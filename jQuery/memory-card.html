<!DOCTYPE html>
<html>
	<head>
		<title>Memory Card</title>
		<meta charset="utf-8">
		<link rel="icon" type="image/png" href="img/favicon.png">
		<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="css/jquery.css">
	</head>

	<body>
		<div class="container">
			<div class="row">
				<div class="col-md-12 col-xs-12">
					<input type="button" class="btn btn-danger" value="" id="btn">
					<input type="button" class="btn btn-info" value="RS" id="rs">
				</div>
			</div>

			<div class="row">
				<div class="col-md-6 col-xs-6">
					<div class="row">
						<div class="col-md-3 col-xs-3">
							<img id="img1" src="img/antimage.jpg" class="img-responsive front1 front">
							<img src="img/back.jpg" class="img-responsive behind1 behind">
						</div>
						<div class="col-md-3 col-xs-3">
							<img id="img2" src="img/beastmaster.jpg" class="img-responsive front1 front">
							<img src="img/back.jpg" class="img-responsive behind1 behind">
						</div>
						<div class="col-md-3 col-xs-3">
							<img id="img3" src="img/chen.jpg" class="img-responsive front1 front">
							<img src="img/back.jpg" class="img-responsive behind1 behind">
						</div>
						<div class="col-md-3 col-xs-3">
							<img id="img4" src="img/crystalmaiden.jpg" class="img-responsive front1 front">
							<img src="img/back.jpg" class="img-responsive behind1 behind">
						</div>
					</div>
				</div>

				<div class="col-md-6 col-xs-6">
					<div class="row">
						<div class="col-md-3 col-xs-3">
							<img id="img5" src="img/dragonknight.jpg" class="img-responsive front1 front">
							<img src="img/back.jpg" class="img-responsive behind1 behind">
						</div>
						<div class="col-md-3 col-xs-3">
							<img id="img6" src="img/drowranger.jpg" class="img-responsive front1 front">
							<img src="img/back.jpg" class="img-responsive behind1 behind">
						</div>
						<div class="col-md-3 col-xs-3">
							<img id="img7" src="img/invoker.jpg" class="img-responsive front1 front">
							<img src="img/back.jpg" class="img-responsive behind1 behind">
						</div>
						<div class="col-md-3 col-xs-3">
							<img id="img8" src="img/keepofthelight.jpg" class="img-responsive front1 front">
							<img src="img/back.jpg" class="img-responsive behind1 behind">
						</div>
					</div>
				</div>
			</div>


			<div class="row">
				<div class="col-md-6 col-xs-6">
					<div class="row">
						<div class="col-md-3 col-xs-3">
							<img id="img9" src="img/legioncommander.jpg" class="img-responsive front2 front">
							<img src="img/back.jpg" class="img-responsive behind2 behind">
						</div>
						<div class="col-md-3 col-xs-3">
							<img id="img10" src="img/lina.jpg" class="img-responsive front2 front">
							<img src="img/back.jpg" class="img-responsive behind2 behind">
						</div>
						<div class="col-md-3 col-xs-3">
							<img id="img11" src="img/luna.jpg" class="img-responsive front2 front">
							<img src="img/back.jpg" class="img-responsive behind2 behind">
						</div>
						<div class="col-md-3 col-xs-3">
							<img id="img12" src="img/phantomassassin.jpg" class="img-responsive front2 front">
							<img src="img/back.jpg" class="img-responsive behind2 behind">
						</div>
					</div>
				</div>

				<div class="col-md-6 col-xs-6">
					<div class="row">
						<div class="col-md-3 col-xs-3">
							<img id="img13" src="img/antimage.jpg" class="img-responsive front2 front">
							<img src="img/back.jpg" class="img-responsive behind2 behind">
						</div>
						<div class="col-md-3 col-xs-3">
							<img id="img14" src="img/beastmaster.jpg" class="img-responsive front2 front">
							<img src="img/back.jpg" class="img-responsive behind2 behind">
						</div>
						<div class="col-md-3 col-xs-3">
							<img id="img15" src="img/chen.jpg" class="img-responsive front2 front">
							<img src="img/back.jpg" class="img-responsive behind2 behind">
						</div>
						<div class="col-md-3 col-xs-3">
							<img id="img16" src="img/crystalmaiden.jpg" class="img-responsive front2 front">
							<img src="img/back.jpg" class="img-responsive behind2 behind">
						</div>
					</div>
				</div>
			</div>
			


			<div class="row">
				<div class="col-md-6 col-xs-6">
					<div class="row">
						<div class="col-md-3 col-xs-3">
							<img id="img17" src="img/dragonknight.jpg" class="img-responsive front3 front">
							<img src="img/back.jpg" class="img-responsive behind3 behind">
						</div>
						<div class="col-md-3 col-xs-3">
							<img id="img18" src="img/drowranger.jpg" class="img-responsive front3 front">
							<img src="img/back.jpg" class="img-responsive behind3 behind">
						</div>
						<div class="col-md-3 col-xs-3">
							<img id="img19" src="img/invoker.jpg" class="img-responsive front3 front">
							<img src="img/back.jpg" class="img-responsive behind3 behind">
						</div>
						<div class="col-md-3 col-xs-3">
							<img id="img20" src="img/keepofthelight.jpg" class="img-responsive front3 front">
							<img src="img/back.jpg" class="img-responsive behind3 behind">
						</div>
					</div>
				</div>

				<div class="col-md-6 col-xs-6">
					<div class="row">
						<div class="col-md-3 col-xs-3">
							<img id="img21" src="img/legioncommander.jpg" class="img-responsive front3 front">
							<img src="img/back.jpg" class="img-responsive behind3 behind">
						</div>
						<div class="col-md-3 col-xs-3">
							<img id="img22" src="img/lina.jpg" class="img-responsive front3 front">
							<img src="img/back.jpg" class="img-responsive behind3 behind">
						</div>
						<div class="col-md-3 col-xs-3">
							<img id="img23" src="img/luna.jpg" class="img-responsive front3 front">
							<img src="img/back.jpg" class="img-responsive behind3 behind">
						</div>
						<div class="col-md-3 col-xs-3">
							<img id="img24" src="img/phantomassassin.jpg" class="img-responsive front3 front">
							<img src="img/back.jpg" class="img-responsive behind3 behind">
						</div>
					</div>
				</div>
			</div>

		</div><!--container-->
			


			

		<script src="js/jquery-3.1.1.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script>
			var image = ['img/antimage.jpg', 'img/beastmaster.jpg', 'img/chen.jpg', 'img/crystalmaiden.jpg', 'img/dragonknight.jpg', 'img/drowranger.jpg', 'img/invoker.jpg', 'img/keepofthelight.jpg', 'img/legioncommander.jpg', 'img/lina.jpg', 'img/luna.jpg', 'img/phantomassassin.jpg'];
			var currentIndex='';
			var cur=null;
			var count=0;
			var time=50;
			image=image.concat(image);

			function shuffle(array){
				var current=array.length;
				var temp;
				var random;
				while(current!=0){ // Tạo 1 số random
					random=Math.floor(Math.random()*current);
					current-=1;
					temp=array[current];
					array[current]=array[random];
					array[random]=temp;
					
				}
				return array;
			}
		shuffle(image);
		
		alert('Start Game');

			$(function(){
				var run = setInterval(function(){
				$('#btn').val(time);
				if(time==0 || count==12){
					clearInterval(run);
					if(count!=12){
							document.getElementById('lose').play();
						alert("Lose");
						$('.behind').css('pointer-events','none');
						return 0;
					}
					
				}
				time--;
				}, 1000);
			});


			for(var i=1;i<=image.length;i++){
				$('#img'+i).attr('src',image[i-1]);
			}


		$(function flip(){
				$('.behind').on('click', function(){
					$(this).css('transform','rotateY(180deg)');
					$(this).prev().css('transform','rotateY(0deg)');
					if(currentIndex==''&&cur==null){
						currentIndex=$(this).prev().attr('src');
						cur = $(this);
					} else{
						var cur2 = $(this);
						if(currentIndex!=cur2.prev().attr('src')){
								document.getElementById('incorrect').play();
							setTimeout(function(){
								cur.css('transform','rotateY(0deg)');
								cur.prev().css('transform','rotateY(180deg)');
								cur2.css('transform','rotateY(0deg)');
								cur2.prev().css('transform','rotateY(180deg)');
								currentIndex='';
								cur=null;
							}, 300);
							
						} else{
							document.getElementById('correct').play();
							setTimeout(function(){
								cur.prev().css('opacity', '0');
								cur2.prev().css('opacity', '0');
								currentIndex='';
								cur=null;
								count++;
								if(count==12){
									document.getElementById('win').play();
									alert("You are win");
								}
							}, 300);
							
						}
					}
				});
			}
		)


		$('#rs').on('click',function(){
			window.location.reload();
		});
		

		
			


		</script>
		<audio id="correct">
			<source src="audio/correct.mp3" type="audio/mpeg">
		</audio>
		<audio id="incorrect">
			<source src="audio/incorrect.mp3" type="audio/mpeg">
		</audio>
		<audio id="win">
			<source src="audio/win.mp3" type="audio/mpeg">
		</audio>
		<audio id="lose">
			<source src="audio/lose.mp3" type="audio/mpeg">
		</audio>
	</body>
</html>